<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="script.service.janitor" name="Janitor" version="4.3.0" provider-name="Anthirian, drewzh">
    <requires>
        <import addon="xbmc.python" version="2.25.0" />
        <import addon="xbmc.json" version="7.0.0" />
        <import addon="xbmc.gui" version="5.12.0" />
    </requires>
    <extension point="xbmc.python.script" library="default.py" />
    <extension point="xbmc.service" library="service.py" start="login" />
    <extension point="xbmc.addon.metadata">
        <summary lang="en">Regularly deletes old movies, TV show episodes and music videos</summary>
        <description lang="en">
This addon will automatically scan your library for watched movies, TV show episodes and music videos, and delete them from the file system based on numerous critia such as age, rating, free disk space, etc. All these options and more can be configured via the addon's settings. Also make sure you set the correct path to the disk you wish to check for free space, especially when you store your videos on a secondary drive or a network share. Through the settings you can view which videos have been cleaned.

Beware!
This addon has the potential to erase your entire video collection! Please make sure you understand exactly what this addon is designed to do before enabling any type of cleaning in the settings. I will not be held responsible for loss of data due to user error.

Originally developed by Andrew 'drewzh' Higginson (xbmcfilecleaner@drewzh.com)
        </description>
        <summary lang="nl">Verwijdert regelmatig oude films, afleveringen van TV-series en videoclips</summary>
        <description lang="nl">
Deze addon zal automatisch de videobibliotheek scannen op zoek naar bekeken films, afleveringen van TV-series en videoclips, en deze van de harde schijf verwijderen en daarbij letten op verscheidene criteria, zoals leeftijd, cijfer, vrije harde schijfruimte, etc. Al deze opties, en andere, zijn in te stellen via het optiesmenu van de addon. Let er daarbij ook op dat je het juiste pad instelt naar de schijf die je wil gebruiken voor het controleren van de vrije schijfruimte, met name als je videocollectie op een andere harde schijf staat of op een netwerkshare. Via de instellingen kun je tevens bekijken welke video's er opgeschoond zijn.

Waarschuwing!
Deze addon kan in een keer je hele videocollectie verwijderen! Zorg dat je precies weet wat deze addon doet voor je voor een type video's het opschonen activeert in de opties. Ik ben niet verantwoordelijk voor verlies van gegevens door handelen van de gebruiker.

Oorspronkelijk ontwikkeld door Andrew 'drewzh' Higginson (xbmcfilecleaner@drewzh.com)
        </description>
        <disclaimer lang="en">It is recommended to not delete videos permanently until you are familiar with all of the settings.</disclaimer>
        <disclaimer lang="nl">Het is verstandig om videos pas permanent te verwijderen als je bekend bent met alle instellingen.</disclaimer>
        <platform>all</platform>
        <language/>
        <license>GNU GENERAL PUBLIC LICENSE. Version 3, 29 June 2007</license>
        <source>https://github.com/Anthirian/script.filecleaner</source>
        <forum>http://forum.kodi.tv/showthread.php?tid=162517</forum>
        <website/>
        <email/>
        <news>
[B][I]Version 4.3.0[/I][/B]
- [NEW] Krypton compatibility
- [NEW] Clean files that are not hard linked (mainly for seeding torrents)
- [NEW] Allow more excluded paths

[B][I]Version 4.2.1[/I][/B]
- [NEW] Improve exclusion checking by offloading to Kodi via JSON-RPC
- [FIX] Monitoring issues with running as service
- [FIX] Showing dialog with titles containing unicode characters

[B][I]Version 4.2.0[/I][/B]
- [NEW] Jarvis compatibility
- [NEW] Kodi File Cleaner is now known as Janitor
- [NEW] Manual cleaning now features a progress dialog that can be used to interrupt cleaning
- [FIX] Kodi library was not being cleaned after Janitor finished cleaning

[B][I]Version 4.1.0[/I][/B]
- [NEW] Helix compatibility
- [NEW] Show information dialogs when errors occur
- [NEW] Change name to Kodi File Cleaner
- [NEW] Kodi library cleaning occurs silently
- [NEW] Allow users to reset excluded paths by pressing a button
- [FIX] Fall back to copy and delete in case of permission problems
- [FIX] Log file was not being created automatically

[B][I]Version 4.0.1[/I][/B]
- [NEW] Specify whether to clean up or view log on manual run
- [FIX] A memory leak could occur when the user enabled deleting empty folders
- [FIX] Disabling the addon froze XBMC completely
- [FIX] Video library was not being cleaned up afterwards

[B][I]Version 4.0.0[/I][/B]
- [NEW] Gotham compatibility
- [NEW] Start addon manually
- [NEW] Allow disabling the service
- [NEW] Log file viewer (accessible from settings)
- [NEW] Support for stacked movies (does not include DVD folder structures, e.g. VIDEO_TS)
- [NEW] Polish translation (thanks struart)

- [FIX] Subtitles with language codes were not cleaned
- [FIX] Changed localizations to use the new PO structure
- [FIX] Increased the maximum allowed scan interval
- [FIX] Videos are now moved by default instead of deleted, to prevent loss of data
- [FIX] Improved support for unicode filenames

[B][I]Version 3.2.1[/I][/B]
- [FIX] Related files were not being cleaned

[B][I]Version 3.2.0[/I][/B]
- [NEW] Clean related files with similar names (e.g. subtitles) (thanks WoLpH)

[B][I]Version 3.1.0[/I][/B]
- [NEW] Exclude up to three file paths from being cleaned

[B][I]Version 3.0.2[/I][/B]
- [FIX] Filenames with non-ASCII characters were not being cleaned

[B][I]Version 3.0.1[/I][/B]
- [FIX] Setting a different locale broke the addon

[B][I]Version 3.0.0[/I][/B]
- [NEW] Frodo compatibility
- [NEW] Music videos support (please use TheAudioDB.com scraper)
- [NEW] Only clean while not playing video
- [NEW] Do not clean videos that are in progress
- [NEW] Do not clean during video playback
- [NEW] Hide notifications during video playback
- [NEW] Delete the parent folder of the file being cleaned, if that folder becomes empty (configurable)
- [NEW] No more individual notifications, but a summary instead (see logs for more details)
- [NEW] JSON-RPC is used to find watched videos (backward compatibility with Eden is effectively lost)
- [FIX] Redesigned addon settings

[B][I]Version 2.0.0[/I][/B]
- [NEW] Eden compatibility
- [NEW] Addon now runs as a service
- [NEW] Dutch language support
- [NEW] Set delayed start
- [NEW] Set scan interval
- [FIX] Totally revamped the settings page
- [FIX] Removed obsolete setting to delete files after x days in the holding folder
- [FIX] Users could not disable expiration checks
- [FIX] Disk space checks did not work on Windows
- [FIX] Enhanced queries used to select files to be deleted
- [FIX] Updated text strings
- [FIX] More more descriptive notifications and logging

[B][I]Version 1.3.5[/I][/B]
- [FIX] Various bug fixes

[B][I]Version 1.2.0[/I][/B]
- [NEW] Delete based on rating
- [NEW] Move videos to holding folder instead of deleting
- [FIX] Code cleanup

[B][I]Version 1.1.2[/I][/B]
- [FIX] Adhere to file naming conventions
- [FIX] Updated contact details
- [FIX] Fixed autoStart method call

[B][I]Version 1.1.0[/I][/B]
- [FIX] Almost entire rewrite of script
- [FIX] Created service loop instead of relying on AlarmClock
- [FIX] Setting changes will now be detected by the running service
- [FIX] Removed 'delete only if watched' option and instead will ONLY delete watched files

[B][I]Version 1.0.0[/I][/B]
- [NEW] Intial version
        </news>
        <assets>
            <icon>resources/icon.png</icon>
            <fanart>resources/fanart.jpg</fanart>
        </assets>
    </extension>
</addon>
